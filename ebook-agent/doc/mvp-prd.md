

# 📄 文档一：MVP 产品需求文档（PRD）

> 文件名建议：`MVP-PRD.md`

---

## 1. 项目背景与目标

### 1.1 背景

用户本地拥有大量电子书（PDF / EPUB），但存在以下问题：

* 内容分散，难以检索
* 无法跨书对比观点
* 阅读后的知识无法沉淀、复用

### 1.2 目标

构建一个 **基于个人电子书库的知识型 AI Agent（MVP）**，支持：

* 基于电子书内容的语义问答
* 回答必须可追溯原文引用
* 不编造、不臆测、不“瞎聊”

### 1.3 MVP 核心价值

> **把“电子书”变成“可查询、可引用、可信赖的个人知识库”**

---

## 2. 用户画像

### 2.1 目标用户

* 拥有大量电子书的个人用户
* 研究型读者 / 技术人员 / 学习者
* 注重“原文出处”和“可验证性”

### 2.2 非目标用户（MVP 不考虑）

* 娱乐型聊天用户
* 即时社交场景
* 自动创作内容（小说/营销文案）

---

## 3. MVP 功能范围

### 3.1 核心功能（必须）

#### F1. 电子书导入

* 支持格式：

  * PDF（文本型）
  * EPUB
* 自动扫描指定目录
* 为每本书生成唯一 `book_id`

#### F2. 文本解析与切分

* 提取书籍正文
* 按章节 / 段落切分为 Chunk
* 每个 Chunk 附带 Metadata：

  * 书名
  * 作者（如可获取）
  * 章节路径
  * 页码或文本位置

#### F3. 向量化与索引

* 对 Chunk 生成 Embedding
* 写入 Qdrant 向量库
* 支持重复导入检测（避免重复建库）

#### F4. 知识问答

* 用户输入自然语言问题
* 系统从电子书库中检索相关内容
* 基于检索结果生成回答

#### F5. 强制引用回答

* 每条回答必须：

  * 引用至少 1 个 Chunk
  * 显示书名 + 章节 + 原文片段
* 若无相关内容：

  * 明确回答“未在当前书库中找到支持内容”

---

### 3.2 MVP 不做功能（明确排除）

* OCR 扫描版 PDF
* 多 Agent 协作
* 自动生成知识图谱
* 用户账号系统
* 笔记 / 高亮编辑
* Web / App 多端 UI（MVP 可 CLI 或简单 Web）

---

## 4. 用户使用流程（MVP）

```
[用户准备电子书目录]
        ↓
[启动索引程序]
        ↓
[电子书解析 → Chunk → Embedding → Qdrant]
        ↓
[用户提问]
        ↓
[向量检索 Top-K Chunk]
        ↓
[LLM 基于证据生成回答 + 引用]
```

---

## 5. MVP 成功判定标准

### 5.1 功能标准

* 能稳定回答电子书中明确提及的问题
* 回答内容可追溯原文

### 5.2 体验标准

* 不胡编
* 不“看起来很聪明但没根据”
* 用户能快速定位原文出处

---

---
